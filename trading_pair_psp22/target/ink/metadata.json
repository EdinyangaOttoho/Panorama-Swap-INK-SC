{
  "source": {
    "hash": "0xf3ea83a4e749707371996bdacef99f92583d7b6147c7e30798461cb81a8de217",
    "language": "ink! 3.3.1",
    "compiler": "rustc 1.61.0-nightly"
  },
  "contract": {
    "name": "trading_pair_psp22",
    "version": "3.0.0",
    "authors": [
      "Yonatan Hornstein Yonatanhornstein@gmail.com"
    ]
  },
  "V3": {
    "spec": {
      "constructors": [
        {
          "args": [
            {
              "label": "psp22_token1_contract",
              "type": {
                "displayName": [
                  "AccountId"
                ],
                "type": 1
              }
            },
            {
              "label": "psp22_token2_contract",
              "type": {
                "displayName": [
                  "AccountId"
                ],
                "type": 1
              }
            },
            {
              "label": "fee",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "Creates a new instance of this contract."
          ],
          "label": "new",
          "payable": false,
          "selector": "0x9bae9d5e"
        }
      ],
      "docs": [],
      "events": [],
      "messages": [
        {
          "args": [
            {
              "label": "psp22_token1_deposit_amount",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "psp22_token2_deposit_amount",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "excpeted_lp_tokens",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "slippage",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to add liquidity to PSP22/PSP22 pair.",
            "If its the first liquidity provision, the provider will always receive 1000 LP shares.",
            "We validate that the provider gets the correct amount of shares as displayed to him in front-end (add LP UI) and never gets 0 shares."
          ],
          "label": "provide_to_pool",
          "mutates": true,
          "payable": true,
          "returnType": null,
          "selector": "0x63ba72af"
        },
        {
          "args": [
            {
              "label": "shares",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "Function to withdraw specific amount of LP tokens given from the front-end."
          ],
          "label": "withdraw_specific_amount",
          "mutates": true,
          "payable": true,
          "returnType": null,
          "selector": "0xa1ea9e79"
        },
        {
          "args": [
            {
              "label": "share_amount",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "funtion to get amount of withdrable PSP22/PSP22 tokens by given number of LP shares."
          ],
          "label": "get_withdraw_tokens_amount",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [],
            "type": 7
          },
          "selector": "0x8c4f5c84"
        },
        {
          "args": [
            {
              "label": "share_amount",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the amount of withdrawable PSP22 token1 by given shares."
          ],
          "label": "get_psp22_token1_withdraw_tokens_amount",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x69446c69"
        },
        {
          "args": [
            {
              "label": "share_amount",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the amount of withdrawable PSP22 token2 by given LP shares."
          ],
          "label": "get_psp22_token2_withdraw_tokens_amount",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xdbb95737"
        },
        {
          "args": [
            {
              "label": "account_id",
              "type": {
                "displayName": [
                  "AccountId"
                ],
                "type": 1
              }
            }
          ],
          "docs": [
            "function to get caller pooled PSP22 token1 and PSP22 token2 amounts"
          ],
          "label": "get_account_locked_tokens",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [],
            "type": 7
          },
          "selector": "0xf1e79c0a"
        },
        {
          "args": [
            {
              "label": "psp22_token1_deposit_amount",
              "type": {
                "displayName": [
                  "Balance"
                ],
                "type": 4
              }
            }
          ],
          "docs": [],
          "label": "get_expected_lp_token_amount",
          "mutates": false,
          "payable": true,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x00254cc1"
        },
        {
          "args": [],
          "docs": [
            "function to get the amount of PSP22 token2 given for 1 PSP22 token1"
          ],
          "label": "get_price_for_one_psp22_token1",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x20a08920"
        },
        {
          "args": [],
          "docs": [
            "function to get the amount of PSP22 token1 given for 1 PSP22 token2"
          ],
          "label": "get_price_for_one_psp22_token2",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xfb0e87d1"
        },
        {
          "args": [
            {
              "label": "amount_in",
              "type": {
                "displayName": [
                  "Balance"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the amount of PSP22 token2 the caller will get for given PSP22 token1 amount"
          ],
          "label": "get_est_price_psp22_token1_to_psp22_token2",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xc27e251b"
        },
        {
          "args": [
            {
              "label": "amount_in",
              "type": {
                "displayName": [
                  "Balance"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the amount of PSP22 token1 the caller will get for given PSP22 token2 amount"
          ],
          "label": "get_est_price_psp22_token2_to_psp22_token1",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xa27c3dd6"
        },
        {
          "args": [
            {
              "label": "amount_in",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the estimated price impact for given psp22 token1 amount"
          ],
          "label": "get_price_impact_psp22_token1_to_psp22_token2",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x6c2b861c"
        },
        {
          "args": [
            {
              "label": "amount_in",
              "type": {
                "displayName": [
                  "Balance"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to get the estimated price impact for given psp22 token2 amount"
          ],
          "label": "get_price_impact_psp22_token2_to_psp22_token1",
          "mutates": false,
          "payable": true,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x0353031d"
        },
        {
          "args": [
            {
              "label": "psp22_token1_amount_to_swap",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "amount_to_validate",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "slippage",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to swap psp22 token1 to psp22 token2"
          ],
          "label": "swap_psp22_token1",
          "mutates": true,
          "payable": false,
          "returnType": null,
          "selector": "0x828cc5e7"
        },
        {
          "args": [
            {
              "label": "psp22_token2_amount_to_swap",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "amount_to_validate",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "slippage",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [
            "function to swap psp22 token2 to psp22 token1"
          ],
          "label": "swap_psp22_token2",
          "mutates": true,
          "payable": true,
          "returnType": null,
          "selector": "0x36de5c21"
        },
        {
          "args": [],
          "docs": [
            "function to get AzeroTradingPair contract address (self)"
          ],
          "label": "get_account_id",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "AccountId"
            ],
            "type": 1
          },
          "selector": "0x79718546"
        },
        {
          "args": [],
          "docs": [
            "function to get AzeroTradingPair contract address (self)"
          ],
          "label": "get_fee",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x0be94636"
        },
        {
          "args": [],
          "docs": [
            "funtion to fetch current price for one PSP22"
          ],
          "label": "get_current_price",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x9b85f745"
        },
        {
          "args": [],
          "docs": [
            "function to get total supply of LP shares"
          ],
          "label": "get_total_supply",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xb079adab"
        },
        {
          "args": [
            {
              "label": "of",
              "type": {
                "displayName": [
                  "AccountId"
                ],
                "type": 1
              }
            }
          ],
          "docs": [
            "function to get shares of specific account"
          ],
          "label": "get_lp_token_of",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0xe419c292"
        },
        {
          "args": [],
          "docs": [
            "function to get contract PSP22 token2 reserve (self)"
          ],
          "label": "get_psp22_token2_reserve",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x363e2fb1"
        },
        {
          "args": [],
          "docs": [
            "function to get contract PSP22 token1 reserve (self)"
          ],
          "label": "get_psp22_token1_reserve",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "Balance"
            ],
            "type": 4
          },
          "selector": "0x2fcba4aa"
        },
        {
          "args": [],
          "docs": [],
          "label": "get_transactions_num",
          "mutates": false,
          "payable": false,
          "returnType": {
            "displayName": [
              "i64"
            ],
            "type": 0
          },
          "selector": "0x76ba4f65"
        },
        {
          "args": [
            {
              "label": "value1",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            },
            {
              "label": "value2",
              "type": {
                "displayName": [
                  "u128"
                ],
                "type": 4
              }
            }
          ],
          "docs": [],
          "label": "check_diffrenece",
          "mutates": true,
          "payable": true,
          "returnType": {
            "displayName": [
              "u128"
            ],
            "type": 4
          },
          "selector": "0xa9555511"
        },
        {
          "args": [],
          "docs": [],
          "label": "was_it_ten",
          "mutates": false,
          "payable": true,
          "returnType": null,
          "selector": "0xcafebabe"
        }
      ]
    },
    "storage": {
      "struct": {
        "fields": [
          {
            "layout": {
              "cell": {
                "key": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "ty": 0
              }
            },
            "name": "transasction_number"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0100000000000000000000000000000000000000000000000000000000000000",
                "ty": 1
              }
            },
            "name": "manager"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0200000000000000000000000000000000000000000000000000000000000000",
                "ty": 1
              }
            },
            "name": "psp22_token1_address"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0300000000000000000000000000000000000000000000000000000000000000",
                "ty": 1
              }
            },
            "name": "psp22_token2_address"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0400000000000000000000000000000000000000000000000000000000000000",
                "ty": 4
              }
            },
            "name": "psp_token1_reserve"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0500000000000000000000000000000000000000000000000000000000000000",
                "ty": 4
              }
            },
            "name": "psp_token2_reserve"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0600000000000000000000000000000000000000000000000000000000000000",
                "ty": 4
              }
            },
            "name": "fee"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0700000000000000000000000000000000000000000000000000000000000000",
                "ty": 4
              }
            },
            "name": "total_supply"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0800000000000000000000000000000000000000000000000000000000000000",
                "ty": 5
              }
            },
            "name": "balances"
          },
          {
            "layout": {
              "cell": {
                "key": "0x0900000000000000000000000000000000000000000000000000000000000000",
                "ty": 5
              }
            },
            "name": "lp_providers"
          }
        ]
      }
    },
    "types": [
      {
        "id": 0,
        "type": {
          "def": {
            "primitive": "i64"
          }
        }
      },
      {
        "id": 1,
        "type": {
          "def": {
            "composite": {
              "fields": [
                {
                  "type": 2,
                  "typeName": "[u8; 32]"
                }
              ]
            }
          },
          "path": [
            "ink_env",
            "types",
            "AccountId"
          ]
        }
      },
      {
        "id": 2,
        "type": {
          "def": {
            "array": {
              "len": 32,
              "type": 3
            }
          }
        }
      },
      {
        "id": 3,
        "type": {
          "def": {
            "primitive": "u8"
          }
        }
      },
      {
        "id": 4,
        "type": {
          "def": {
            "primitive": "u128"
          }
        }
      },
      {
        "id": 5,
        "type": {
          "def": {
            "composite": {
              "fields": [
                {
                  "name": "offset_key",
                  "type": 6,
                  "typeName": "Key"
                }
              ]
            }
          },
          "params": [
            {
              "name": "K",
              "type": 1
            },
            {
              "name": "V",
              "type": 4
            }
          ],
          "path": [
            "ink_storage",
            "lazy",
            "mapping",
            "Mapping"
          ]
        }
      },
      {
        "id": 6,
        "type": {
          "def": {
            "composite": {
              "fields": [
                {
                  "type": 2,
                  "typeName": "[u8; 32]"
                }
              ]
            }
          },
          "path": [
            "ink_primitives",
            "Key"
          ]
        }
      },
      {
        "id": 7,
        "type": {
          "def": {
            "tuple": [
              4,
              4
            ]
          }
        }
      }
    ]
  }
}